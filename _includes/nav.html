{% comment %}
Navigation multilingue pour Jekyll - RÃ©sout le problÃ¨me de conflit sur la page Contact
{% endcomment %}

{% assign is_english = false %}
{% if page.url contains '/en/' or page.lang == 'en' %}
  {% assign is_english = true %}
{% endif %}

<nav class="site-nav">
  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger">
    <span class="menu-icon">
      <svg viewBox="0 0 18 15" width="18px" height="15px">
        <path d="m18,1.484c0,0.82-0.665,1.484-1.484,1.484h-15.032c-0.819,0-1.484-0.665-1.484-1.484s0.665-1.484,1.484-1.484h15.032c0.819,0,1.484,0.665,1.484,1.484zm0,5.16c0,0.82-0.665,1.484-1.484,1.484h-15.032c-0.819,0-1.484-0.665-1.484-1.484s0.665-1.484,1.484-1.484h15.032c0.819,0,1.484,0.665,1.484,1.484zm0,5.158c0,0.82-0.665,1.484-1.484,1.484h-15.032c-0.819,0-1.484-0.665-1.484-1.484s0.665-1.484,1.484-1.484h15.032c0.819,0,1.484,0.665,1.484,1.484z"/>
      </svg>
    </span>
  </label>

  <div class="trigger">
    {% if is_english %}
      <!-- Menu anglais -->
      <a class="page-link{% if page.url == '/en/' %} current{% endif %}" href="{{ '/en/' | relative_url }}">Home</a>
      <a class="page-link{% if page.url == '/en/about/' %} current{% endif %}" href="{{ '/en/about/' | relative_url }}">About</a>
      <a class="page-link{% if page.url == '/en/research/' %} current{% endif %}" href="{{ '/en/research/' | relative_url }}">Research</a>
      <a class="page-link{% if page.url == '/en/publications/' %} current{% endif %}" href="{{ '/en/publications/' | relative_url }}">Publications</a>
      <a class="page-link{% if page.url == '/en/teaching/' %} current{% endif %}" href="{{ '/en/teaching/' | relative_url }}">Teaching</a>
      <a class="page-link{% if page.url == '/en/contact/' %} current{% endif %}" href="{{ '/en/contact/' | relative_url }}">Contact</a>
      
      <!-- Lien vers version franÃ§aise -->
      <a class="page-link lang-switch" href="{{ page.url | replace: '/en/', '/' | relative_url }}" title="Version franÃ§aise">ðŸ‡«ðŸ‡· FR</a>
    {% else %}
      <!-- Menu franÃ§ais -->
      <a class="page-link{% if page.url == '/' or page.url == '/index.html' %} current{% endif %}" href="{{ '/' | relative_url }}">Accueil</a>
      <a class="page-link{% if page.url == '/parcours/' %} current{% endif %}" href="{{ '/parcours/' | relative_url }}">Mon Parcours</a>
      <a class="page-link{% if page.url == '/recherche/' %} current{% endif %}" href="{{ '/recherche/' | relative_url }}">Recherche</a>
      <a class="page-link{% if page.url == '/publications/' %} current{% endif %}" href="{{ '/publications/' | relative_url }}">Publications</a>
      <a class="page-link{% if page.url == '/enseignement/' %} current{% endif %}" href="{{ '/enseignement/' | relative_url }}">Enseignement</a>
      <a class="page-link{% if page.url == '/contact/' or page.url == '/contact' %} current{% endif %}" href="{{ '/contact/' | relative_url }}">Contact</a>
      
      <!-- Lien vers version anglaise -->
      <a class="page-link lang-switch" href="{{ '/en' | append: page.url | relative_url }}" title="English version">ðŸ‡¬ðŸ‡§ EN</a>
    {% endif %}
  </div>
</nav>

<style>
/* Style pour les liens de changement de langue */
.lang-switch {
  font-weight: bold;
  border-left: 1px solid #e8e8e8;
  padding-left: 10px !important;
  margin-left: 10px;
}

/* Indiquer la page courante */
.page-link.current {
  font-weight: bold;
  color: #2a7ae4;
}
</style>
